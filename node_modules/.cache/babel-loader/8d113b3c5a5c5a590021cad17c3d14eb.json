{"ast":null,"code":"import _defineProperty from \"/home/tigani/Documents/adminSurvey/SurveyAdmin/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/tigani/Documents/adminSurvey/SurveyAdmin/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/tigani/Documents/adminSurvey/SurveyAdmin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tigani/Documents/adminSurvey/SurveyAdmin/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tigani/Documents/adminSurvey/SurveyAdmin/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tigani/Documents/adminSurvey/SurveyAdmin/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tigani/Documents/adminSurvey/SurveyAdmin/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/tigani/Documents/adminSurvey/SurveyAdmin/src/components/Login/Login.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, Grid, Segment, Input } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport { loginUser } from '../../actions';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: {\n        email: \"\",\n        password: \"\"\n      },\n      loading: false,\n      errors: {}\n    };\n\n    _this.handleonChange = function (e) {\n      _this.setState({\n        data: _objectSpread({}, _this.state.data, _defineProperty({}, e.target.name, e.target.value))\n      });\n    };\n\n    _this.SubmitForm = function (e) {\n      e.preventDefault();\n\n      var errors = _this.validate(_this.state.data);\n\n      _this.setState({\n        errors: errors\n      });\n\n      if (Object.keys(errors).length === 0) {\n        var isonline = navigator.onLine;\n\n        if (isonline) {\n          _this.props.loginUser(_this.state.data, _this.props.history);\n        } else {\n          alert('Dear User No Internet Connection Available');\n        }\n      }\n    };\n\n    _this.validate = function (data) {\n      var errors = {};\n\n      if (typeof data[\"email\"] !== \"undefined\") {\n        var lastAtPos = data[\"email\"].lastIndexOf('@');\n        var lastDotPos = data[\"email\"].lastIndexOf('.');\n\n        if (!(lastAtPos < lastDotPos && lastAtPos > 0 && data[\"email\"].indexOf('@@') === -1 && lastDotPos > 2 && data[\"email\"].length - lastDotPos > 2)) {\n          errors.email = \"Email is not valid\";\n        }\n      }\n\n      if (!data.email) errors.email = \"Email Can't Be empty\";\n      if (!data.password) errors.password = \"Passwrod Can't Be empty\";\n      return errors;\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          data = _this$state.data,\n          errors = _this$state.errors;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        textAlign: \"center\",\n        style: {\n          height: '100vh'\n        },\n        verticalAlign: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        style: {\n          maxWidth: 450\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Form, {\n        size: \"large\",\n        onSubmit: this.SubmitForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Segment, {\n        stacked: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        error: !!errors.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Input, {\n        fluid: true,\n        icon: \"mail\",\n        iconPosition: \"left\",\n        placeholder: \"Email\",\n        value: data.email,\n        onChange: this.handleonChange,\n        id: \"email\",\n        name: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          color: \"#ae5856\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, errors.email && errors.email)), React.createElement(Form.Field, {\n        error: !!errors.password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Form.Input, {\n        fluid: true,\n        icon: \"lock\",\n        iconPosition: \"left\",\n        placeholder: \"Password\",\n        type: \"password\",\n        value: data.password,\n        onChange: this.handleonChange,\n        id: \"password\",\n        name: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          color: \"#ae5856\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, errors.password && errors.password)), React.createElement(Button, {\n        color: \"purple\",\n        fluid: true,\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Login\"))))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nfunction mapStateToProps(state) {\n  console.log(state);\n  return {\n    admin: state.admin\n  };\n}\n\nexport default connect(mapStateToProps, {\n  loginUser: loginUser\n})(Login);","map":{"version":3,"sources":["/home/tigani/Documents/adminSurvey/SurveyAdmin/src/components/Login/Login.js"],"names":["React","Component","Button","Form","Grid","Segment","Input","connect","loginUser","Login","state","data","email","password","loading","errors","handleonChange","e","setState","target","name","value","SubmitForm","preventDefault","validate","Object","keys","length","isonline","navigator","onLine","props","history","alert","lastAtPos","lastIndexOf","lastDotPos","indexOf","height","maxWidth","color","mapStateToProps","console","log","admin"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\nimport { Button, Form, Grid, Segment,Input } from 'semantic-ui-react'\nimport {connect} from 'react-redux';\nimport { loginUser } from '../../actions';\n\n\n\n\nclass Login extends Component {\n\n  state = {\n    data:{\n      email : \"\",\n      password:\"\"\n    },\n    loading:false, \n    errors:{}\n};    \n\nhandleonChange = (e) =>{\n    this.setState({\n      data:{\n        ...this.state.data,[e.target.name]:e.target.value\n      }\n    })\n }     \n\n\n SubmitForm =  (e) => {\n  e.preventDefault()\n   const errors = this.validate(this.state.data);\n   this.setState({errors});\n   if(Object.keys(errors).length === 0){\n     const isonline = navigator.onLine;\n     if(isonline){\n       this.props.loginUser(this.state.data,this.props.history)\n     }else{\n      alert('Dear User No Internet Connection Available');\n     }\n   }\n}\n   \n\nvalidate = (data) =>{\nconst errors = {};\nif(typeof data[\"email\"] !== \"undefined\"){\n let lastAtPos = data[\"email\"].lastIndexOf('@');\n let lastDotPos = data[\"email\"].lastIndexOf('.');\n\n if (!(lastAtPos < lastDotPos && lastAtPos > 0 && data[\"email\"].indexOf('@@') === -1 && lastDotPos > 2 && (data[\"email\"].length - lastDotPos) > 2)) {\n   errors.email = \"Email is not valid\";\n }\n}\nif(!data.email)    errors.email    = \"Email Can't Be empty\";\nif(!data.password) errors.password = \"Passwrod Can't Be empty\";\nreturn errors;\n}\n\n     render(){\n      const {data,errors} = this.state;  \n       return(\n         <div>\n           <Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\n    <Grid.Column style={{ maxWidth: 450 }}>\n    <Form size='large' onSubmit={this.SubmitForm}>\n        <Segment stacked>\n        <Form.Field error={!!errors.email}>\n          <Input \n              fluid icon='mail' \n              iconPosition='left' \n              placeholder='Email' \n              value={data.email}\n              onChange={this.handleonChange}\n              id='email'\n              name='email'    \n            />\n            <span style={{color:\"#ae5856\"}}>\n            {errors.email && errors.email}\n            </span>\n          </Form.Field>\n\n\n          <Form.Field error={!!errors.password}>\n            <Form.Input\n              fluid\n              icon='lock'\n              iconPosition='left'\n              placeholder='Password'\n              type='password'\n              value={data.password}\n              onChange={this.handleonChange}\n              id='password'\n              name='password'\n            />  \n            <span style={{color:\"#ae5856\"}}>\n            {errors.password && errors.password}\n            </span>\n            </Form.Field>\n\n            \n          <Button color='purple' fluid size='large'>\n            Login \n          </Button>\n        </Segment>\n      </Form>\n    </Grid.Column>\n  </Grid>\n         </div>\n       )\n     }\n}\n\n\nfunction mapStateToProps (state){\n  console.log(state);\nreturn {\n      admin:state.admin\n  }\n}\nexport default connect(mapStateToProps, {loginUser})(Login);\n"]},"metadata":{},"sourceType":"module"}