{"ast":null,"code":"import _defineProperty from \"/home/tigani/Documents/adminSurvey/SurveyAdmin/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/tigani/Documents/adminSurvey/SurveyAdmin/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/tigani/Documents/adminSurvey/SurveyAdmin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tigani/Documents/adminSurvey/SurveyAdmin/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tigani/Documents/adminSurvey/SurveyAdmin/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tigani/Documents/adminSurvey/SurveyAdmin/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tigani/Documents/adminSurvey/SurveyAdmin/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/tigani/Documents/adminSurvey/SurveyAdmin/src/components/Login/Login.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, Grid, Header, Segment, Input, Message } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport { loginUser } from '../../actions';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: {\n        email: \"\",\n        password: \"\"\n      },\n      loading: false,\n      errors: {}\n    };\n\n    _this.handleonChange = function (e) {\n      _this.setState({\n        data: _objectSpread({}, _this.state.data, _defineProperty({}, e.target.name, e.target.value))\n      });\n    };\n\n    _this.SubmitForm = function (e) {\n      e.preventDefault();\n\n      var errors = _this.validate(_this.state.data);\n\n      _this.setState({\n        errors: errors\n      });\n\n      if (Object.keys(errors).length === 0) {\n        var isonline = navigator.onLine;\n\n        if (isonline) {\n          _this.props.loginUser(_this.state.data, _this.props.history);\n        } else {\n          alert('Dear User No Internet Connection Available');\n        }\n      }\n    };\n\n    _this.validate = function (data) {\n      var errors = {};\n\n      if (typeof data[\"email\"] !== \"undefined\") {\n        var lastAtPos = data[\"email\"].lastIndexOf('@');\n        var lastDotPos = data[\"email\"].lastIndexOf('.');\n\n        if (!(lastAtPos < lastDotPos && lastAtPos > 0 && data[\"email\"].indexOf('@@') === -1 && lastDotPos > 2 && data[\"email\"].length - lastDotPos > 2)) {\n          errors.email = \"Email is not valid\";\n        }\n      }\n\n      if (!data.email) errors.email = \"Email Can't Be empty\";\n      if (!data.password) errors.password = \"Passwrod Can't Be empty\";\n      return errors;\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          data = _this$state.data,\n          errors = _this$state.errors;\n      return React.createElement(\"div\", {\n        className: \"login-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"style\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"\\n      body > div,\\n      body > div > div,\\n      body > div > div > div.login-form {\\n        height: 100%;\\n      }\\n    \"), React.createElement(Grid, {\n        textAlign: \"center\",\n        style: {\n          height: '100%'\n        },\n        verticalAlign: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        style: {\n          maxWidth: 450\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Header, {\n        as: \"h2\",\n        color: \"blue\",\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Log-in To Your Account\"), React.createElement(Form, {\n        size: \"large\",\n        onSubmit: this.SubmitForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Segment, {\n        raised: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        error: !!errors.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Input, {\n        fluid: true,\n        icon: \"mail\",\n        iconPosition: \"left\",\n        placeholder: \"Email\",\n        value: data.email,\n        onChange: this.handleonChange,\n        id: \"email\",\n        name: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          color: \"#ae5856\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, errors.email && errors.email)), React.createElement(Form.Field, {\n        error: !!errors.password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Form.Input, {\n        fluid: true,\n        icon: \"lock\",\n        iconPosition: \"left\",\n        placeholder: \"Password\",\n        type: \"password\",\n        value: data.password,\n        onChange: this.handleonChange,\n        id: \"password\",\n        name: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          color: \"#ae5856\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, errors.password && errors.password)), React.createElement(Button, {\n        type: \"submit\",\n        color: \"blue\",\n        fluid: true,\n        size: \"medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Login\")), this.props.user.login ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Message, {\n        negative: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Message.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, this.props.user.login))) : null))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nfunction mapStateToProps(state) {\n  console.log(state);\n  return {\n    admin: state.admin\n  };\n}\n\nexport default connect(mapStateToProps, {\n  loginUser: loginUser\n})(Login);","map":{"version":3,"sources":["/home/tigani/Documents/adminSurvey/SurveyAdmin/src/components/Login/Login.js"],"names":["React","Component","Button","Form","Grid","Header","Segment","Input","Message","connect","loginUser","Login","state","data","email","password","loading","errors","handleonChange","e","setState","target","name","value","SubmitForm","preventDefault","validate","Object","keys","length","isonline","navigator","onLine","props","history","alert","lastAtPos","lastIndexOf","lastDotPos","indexOf","height","maxWidth","color","user","login","mapStateToProps","console","log","admin"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport { Button, Form, Grid, Header, Segment ,Input,Message} from 'semantic-ui-react'\nimport {connect} from 'react-redux';\nimport { loginUser } from '../../actions';\n\nclass Login extends Component {\n\n    state = {\n        data:{\n          email : \"\",\n          password:\"\"\n        },\n        loading:false, \n        errors:{}\n    };    \n\n    handleonChange = (e) =>{\n        this.setState({\n          data:{\n            ...this.state.data,[e.target.name]:e.target.value\n          }\n        })\n     }     \n    \n     \n     SubmitForm =  (e) => {\n       e.preventDefault()\n        const errors = this.validate(this.state.data);\n        this.setState({errors});\n        if(Object.keys(errors).length === 0){\n          const isonline = navigator.onLine;\n          if(isonline){\n            this.props.loginUser(this.state.data,this.props.history)\n          }else{\n           alert('Dear User No Internet Connection Available');\n          }\n        }\n   }\n        \n   \n   validate = (data) =>{\n     const errors = {};\n     if(typeof data[\"email\"] !== \"undefined\"){\n      let lastAtPos = data[\"email\"].lastIndexOf('@');\n      let lastDotPos = data[\"email\"].lastIndexOf('.');\n\n      if (!(lastAtPos < lastDotPos && lastAtPos > 0 && data[\"email\"].indexOf('@@') === -1 && lastDotPos > 2 && (data[\"email\"].length - lastDotPos) > 2)) {\n        errors.email = \"Email is not valid\";\n      }\n    }\n     if(!data.email)    errors.email    = \"Email Can't Be empty\";\n     if(!data.password) errors.password = \"Passwrod Can't Be empty\";\n     return errors;\n   }\n  \n    render (){  \n      const {data,errors} = this.state;  \n        return( \n     <div className='login-form'>\n    <style>{`\n      body > div,\n      body > div > div,\n      body > div > div > div.login-form {\n        height: 100%;\n      }\n    `}</style>\n    <Grid textAlign='center' style={{ height: '100%' }} verticalAlign='middle'>\n      <Grid.Column style={{ maxWidth: 450 }}>\n        {\n         <Header as='h2' color='blue' textAlign='center'>\n           Log-in To Your Account\n        </Header>         \n        }\n        <Form size='large' onSubmit={this.SubmitForm}>\n          <Segment raised>\n          <Form.Field error={!!errors.email}>\n          <Input \n              fluid icon='mail' \n              iconPosition='left' \n              placeholder='Email' \n              value={data.email}\n              onChange={this.handleonChange}\n              id='email'\n              name='email'    \n            />\n            <span style={{color:\"#ae5856\"}}>\n            {errors.email && errors.email}\n            </span>\n          </Form.Field>\n            \n\n\n            <Form.Field error={!!errors.password}>\n            <Form.Input\n              fluid\n              icon='lock'\n              iconPosition='left'\n              placeholder='Password'\n              type='password'\n              value={data.password}\n              onChange={this.handleonChange}\n              id='password'\n              name='password'\n            />  \n            <span style={{color:\"#ae5856\"}}>\n               {errors.password && errors.password}\n            </span>\n            </Form.Field>\n                       \n            <Button type=\"submit\" color='blue' fluid size='medium' >\n              Login\n            </Button>      \n          </Segment>\n          {\n              this.props.user.login?  \n                <div>\n                   <Message negative  >\n                   <Message.Header>\n                        {this.props.user.login}\n                   </Message.Header>\n                  </Message>\n                </div>\n              :null \n            } \n        </Form>\n      </Grid.Column>  \n    </Grid> \n         </div>  \n        ); \n    }   \n}\n\nfunction mapStateToProps (state){\n    console.log(state);\n  return {\n        admin:state.admin\n    }\n}\n\n\nexport default connect(mapStateToProps, {loginUser})(Login);"]},"metadata":{},"sourceType":"module"}